<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用户身份与文件权限</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="SuperSonnya">
    
    <link rel="preload" href="/assets/css/0.styles.dd55fbe0.css" as="style"><link rel="preload" href="/assets/js/app.93b6cd49.js" as="script"><link rel="preload" href="/assets/js/2.2253adde.js" as="script"><link rel="preload" href="/assets/js/55.f0d63b85.js" as="script"><link rel="prefetch" href="/assets/js/10.5dec0774.js"><link rel="prefetch" href="/assets/js/11.30b58c3b.js"><link rel="prefetch" href="/assets/js/12.7df67dbb.js"><link rel="prefetch" href="/assets/js/13.9dca66f7.js"><link rel="prefetch" href="/assets/js/14.b0f40cb3.js"><link rel="prefetch" href="/assets/js/15.56f35522.js"><link rel="prefetch" href="/assets/js/16.c4926ac6.js"><link rel="prefetch" href="/assets/js/17.0c698d51.js"><link rel="prefetch" href="/assets/js/18.dbfe753c.js"><link rel="prefetch" href="/assets/js/19.7ea231de.js"><link rel="prefetch" href="/assets/js/20.7f460317.js"><link rel="prefetch" href="/assets/js/21.429f3f94.js"><link rel="prefetch" href="/assets/js/22.80cc00ff.js"><link rel="prefetch" href="/assets/js/23.a18d61ab.js"><link rel="prefetch" href="/assets/js/24.e9fd6659.js"><link rel="prefetch" href="/assets/js/25.121e9077.js"><link rel="prefetch" href="/assets/js/26.2149a157.js"><link rel="prefetch" href="/assets/js/27.be591007.js"><link rel="prefetch" href="/assets/js/28.a53ce973.js"><link rel="prefetch" href="/assets/js/29.2261a8a6.js"><link rel="prefetch" href="/assets/js/3.c4daecea.js"><link rel="prefetch" href="/assets/js/30.be11d323.js"><link rel="prefetch" href="/assets/js/31.2cf444e7.js"><link rel="prefetch" href="/assets/js/32.2b52f9fd.js"><link rel="prefetch" href="/assets/js/33.a3ba608c.js"><link rel="prefetch" href="/assets/js/34.34512653.js"><link rel="prefetch" href="/assets/js/35.f8f223fa.js"><link rel="prefetch" href="/assets/js/36.f115988c.js"><link rel="prefetch" href="/assets/js/37.4c7e6e04.js"><link rel="prefetch" href="/assets/js/38.1cdca227.js"><link rel="prefetch" href="/assets/js/39.05b091ea.js"><link rel="prefetch" href="/assets/js/4.5cbb48da.js"><link rel="prefetch" href="/assets/js/40.cc1c352c.js"><link rel="prefetch" href="/assets/js/41.1eb9a1c9.js"><link rel="prefetch" href="/assets/js/42.ee229038.js"><link rel="prefetch" href="/assets/js/43.35fddbf0.js"><link rel="prefetch" href="/assets/js/44.0ae96073.js"><link rel="prefetch" href="/assets/js/45.c74868e1.js"><link rel="prefetch" href="/assets/js/46.a35051d4.js"><link rel="prefetch" href="/assets/js/47.8ea5c2bb.js"><link rel="prefetch" href="/assets/js/48.88010d18.js"><link rel="prefetch" href="/assets/js/49.9f17e638.js"><link rel="prefetch" href="/assets/js/5.63e92375.js"><link rel="prefetch" href="/assets/js/50.69c7affc.js"><link rel="prefetch" href="/assets/js/51.df306da7.js"><link rel="prefetch" href="/assets/js/52.6652cb38.js"><link rel="prefetch" href="/assets/js/53.2f733d62.js"><link rel="prefetch" href="/assets/js/54.5a1babd6.js"><link rel="prefetch" href="/assets/js/56.428fbcee.js"><link rel="prefetch" href="/assets/js/57.8b343c5b.js"><link rel="prefetch" href="/assets/js/58.c80522b1.js"><link rel="prefetch" href="/assets/js/59.71b9f9a3.js"><link rel="prefetch" href="/assets/js/6.6882a093.js"><link rel="prefetch" href="/assets/js/60.fa0ad234.js"><link rel="prefetch" href="/assets/js/61.da80e24e.js"><link rel="prefetch" href="/assets/js/62.176d4566.js"><link rel="prefetch" href="/assets/js/63.dba232aa.js"><link rel="prefetch" href="/assets/js/64.a3911114.js"><link rel="prefetch" href="/assets/js/65.1b266817.js"><link rel="prefetch" href="/assets/js/66.156b5867.js"><link rel="prefetch" href="/assets/js/67.5dde4306.js"><link rel="prefetch" href="/assets/js/68.482d578f.js"><link rel="prefetch" href="/assets/js/69.52471978.js"><link rel="prefetch" href="/assets/js/7.2d1feebb.js"><link rel="prefetch" href="/assets/js/70.af8e117d.js"><link rel="prefetch" href="/assets/js/71.0316cd26.js"><link rel="prefetch" href="/assets/js/72.a1dc6e07.js"><link rel="prefetch" href="/assets/js/73.55bba6f9.js"><link rel="prefetch" href="/assets/js/74.975e7923.js"><link rel="prefetch" href="/assets/js/8.f6762bec.js"><link rel="prefetch" href="/assets/js/9.ef2a9791.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dd55fbe0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="" class="logo"> <!----></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专升本" class="dropdown-title"><span class="title">专升本</span> <span class="arrow down"></span></button> <button type="button" aria-label="专升本" class="mobile-dropdown-title"><span class="title">专升本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topup/english/" class="nav-link">
  英语
</a></li><li class="dropdown-item"><!----> <a href="/topup/chinese/" class="nav-link">
  语文
</a></li><li class="dropdown-item"><!----> <a href="/topup/accountant/" class="nav-link">
  会计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/database/oracle/" class="nav-link">
  Oracle
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/programlangs/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/programlangs/clang/" class="nav-link">
  Clang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/windows/" class="nav-link">
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link router-link-active">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/virtualsofts/" class="nav-link">
  虚拟化软件
</a></div><div class="nav-item"><a href="/storage/" class="nav-link">
  存储
</a></div><div class="nav-item"><a href="/switch/" class="nav-link">
  交换机
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  中间件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/langue/english/" class="nav-link">
  英语
</a></li><li class="dropdown-item"><!----> <a href="/langue/french/" class="nav-link">
  法语
</a></li></ul></div></div><div class="nav-item"><a href="/office/" class="nav-link">
  办公
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/readingnotes/books/" class="nav-link">
  读书笔记
</a></li><li class="dropdown-item"><!----> <a href="/readingnotes/others/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专升本" class="dropdown-title"><span class="title">专升本</span> <span class="arrow down"></span></button> <button type="button" aria-label="专升本" class="mobile-dropdown-title"><span class="title">专升本</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topup/english/" class="nav-link">
  英语
</a></li><li class="dropdown-item"><!----> <a href="/topup/chinese/" class="nav-link">
  语文
</a></li><li class="dropdown-item"><!----> <a href="/topup/accountant/" class="nav-link">
  会计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/database/oracle/" class="nav-link">
  Oracle
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/programlangs/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/programlangs/clang/" class="nav-link">
  Clang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/windows/" class="nav-link">
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link router-link-active">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/virtualsofts/" class="nav-link">
  虚拟化软件
</a></div><div class="nav-item"><a href="/storage/" class="nav-link">
  存储
</a></div><div class="nav-item"><a href="/switch/" class="nav-link">
  交换机
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  中间件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/langue/english/" class="nav-link">
  英语
</a></li><li class="dropdown-item"><!----> <a href="/langue/french/" class="nav-link">
  法语
</a></li></ul></div></div><div class="nav-item"><a href="/office/" class="nav-link">
  办公
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/readingnotes/books/" class="nav-link">
  读书笔记
</a></li><li class="dropdown-item"><!----> <a href="/readingnotes/others/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux就该这样学</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/os/linux/" aria-current="page" class="sidebar-link">01</a></li><li><a href="/os/linux/02.html" class="sidebar-link">02</a></li><li><a href="/os/linux/03.html" class="sidebar-link">03</a></li><li><a href="/os/linux/04.html" class="sidebar-link">04</a></li><li><a href="/os/linux/05.html" aria-current="page" class="active sidebar-link">05</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/os/linux/06.html" class="sidebar-link">06</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="_1、用户身份与能力"><a href="#_1、用户身份与能力" class="header-anchor">#</a> 1、用户身份与能力</h3> <ul><li>管理员UID为0：系统的管理员用户。</li> <li>系统用户UID为1～999： Linux系统为了避免因某个服务程序出现漏洞而被黑客提权至整台服务器，默认服务程序会有独立的系统用户负责运行，进而有效控制被破坏范围。</li> <li>普通用户UID从1000开始：是由管理员创建的用于日常工作的用户。</li> <li>在Linux系统中创建每个用户时，将自动创建一个与其同名的基本用户组，而且这个基本用户组只有该用户一个人。如果该用户以后被归纳入其他用户组，则这个其他用户组称之为扩展用户组。一个用户只有一个基本用户组，但是可以有多个扩展用户组。</li></ul> <h4 id="_1-1、useradd"><a href="#_1-1、useradd" class="header-anchor">#</a> 1.1、useradd</h4> <ul><li><p><code>useradd [选项] 用户名</code></p></li> <li><p>默认的用户家目录会被存放在<code>/home</code>目录中，默认的<code>Shell</code>解释器为<code>/bin/bash</code>，而且默认会创建一个与该用户同名的基本用户组。</p></li> <li><p>用户的解释器设置为<code>/sbin/nologin</code>，代表该用户不能登录到系统。</p></li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>-d</code></td> <td>指定用户的家目录（默认为/home/username）</td></tr> <tr><td><code>-e</code></td> <td>账户的到期时间，格式为YYYY-MM-DD.</td></tr> <tr><td><code>-u</code></td> <td>指定该用户的默认UID</td></tr> <tr><td><code>-g</code></td> <td>指定一个初始的用户基本组（必须已存在）</td></tr> <tr><td><code>-G</code></td> <td>指定一个或多个扩展用户组</td></tr> <tr><td><code>-N</code></td> <td>不创建与用户同名的基本用户组</td></tr> <tr><td><code>-s</code></td> <td>指定该用户的默认Shell解释器</td></tr></tbody></table> <h4 id="_1-2、groupadd"><a href="#_1-2、groupadd" class="header-anchor">#</a> 1.2、groupadd</h4> <ul><li><code>groupadd [选项] 群组名</code></li></ul> <h4 id="_1-3、usermod"><a href="#_1-3、usermod" class="header-anchor">#</a> 1.3、usermod</h4> <ul><li><p>用户的信息保存在<code>/etc/passwd</code>文件中，可以直接用文本编辑器来修改其中的用户参数项目，也可以用<code>usermod</code>命令修改已经创建的用户信息。</p></li> <li><p>修改用户的属性：<code>usermod [选项] 用户名</code></p></li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>-c</code></td> <td>填写用户账户的备注信息</td></tr> <tr><td><code>-d -m</code></td> <td>参数-m与参数-d连用，可重新指定用户的家目录并自动把旧的数据转移过去</td></tr> <tr><td><code>-e</code></td> <td>账户的到期时间，格式为YYYY-MM-DD</td></tr> <tr><td><code>-g</code></td> <td>变更所属用户组</td></tr> <tr><td><code>-G</code></td> <td>变更扩展用户组</td></tr> <tr><td><code>-L</code></td> <td>锁定用户禁止其登录系统</td></tr> <tr><td><code>-U</code></td> <td>解锁用户，允许其登录系统</td></tr> <tr><td><code>-s</code></td> <td>变更默认终端</td></tr> <tr><td><code>-u</code></td> <td>修改用户的UID</td></tr></tbody></table> <h4 id="_1-4、passwd"><a href="#_1-4、passwd" class="header-anchor">#</a> 1.4、passwd</h4> <ul><li><p>修改用户密码、过期时间、认证信息等：<code>passwd [选项] [用户名]</code></p></li> <li><p>普通用户只能使用<code>passwd</code>命令修改自身的系统密码，<code>root</code>管理员则有权限修改其他所有人的密码。<code>root</code>管理员在<code>Linux</code>系统中修改自己或他人的密码时不需要验证旧密码。</p></li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>-l</code></td> <td>锁定用户，禁止其登录</td></tr> <tr><td><code>-u</code></td> <td>解除锁定，允许用户登录</td></tr> <tr><td><code>--stdin</code></td> <td>允许通过标准输入修改用户密码，如echo &quot;NewPassWord&quot; | passwd --stdin Username</td></tr> <tr><td><code>-d</code></td> <td>使该用户可用空密码登录系统</td></tr> <tr><td><code>-e</code></td> <td>强制用户在下次登录时修改密码</td></tr> <tr><td><code>-S</code></td> <td>显示用户的密码是否被锁定，以及密码所采用的加密算法名称</td></tr></tbody></table> <h4 id="_1-5、userdel"><a href="#_1-5、userdel" class="header-anchor">#</a> 1.5、userdel</h4> <ul><li><code>userdel [选项] 用户名</code></li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>-f</code></td> <td>强制删除用户</td></tr> <tr><td><code>-r</code></td> <td>同时删除用户及用户家目录，用户的家目录默认保留</td></tr></tbody></table> <h3 id="_2、文件权限与归属"><a href="#_2、文件权限与归属" class="header-anchor">#</a> 2、文件权限与归属</h3> <ul><li><code>-</code>：普通文件。</li> <li><code>d</code>：目录文件。</li> <li><code>l</code>：链接文件。</li> <li><code>b</code>：块设备文件。</li> <li><code>c</code>：字符设备文件。</li> <li><code>p</code>：管道文件。</li> <li>对于一般文件来说，<code>可读</code>表示能够读取文件的实际内容；<code>可写</code>表示能够编辑、新增、修改、删除文件的实际内容；<code>可执行</code>则表示能够运行一个脚本程序。</li> <li>对目录文件来说，<code>可读</code>表示能够读取目录内的文件列表；<code>可写</code>表示能够在目录内新增、删除、重命名文件；而<code>可执行</code>则表示能够进入该目录。</li> <li>文件的读、写、执行权限可以简写为<code>rwx</code>，也可分别用数字<code>4、2、1</code>来表示，文件所有者，所属组及其他用户权限之间无关联。</li></ul> <h3 id="_3、文件的特殊权限"><a href="#_3、文件的特殊权限" class="header-anchor">#</a> 3、文件的特殊权限</h3> <ul><li>在复杂多变的生产环境中，单纯设置文件的<code>rwx</code>权限无法满足对安全和灵活性的需求，因此便有了<code>SUID</code>、<code>SGID</code>与<code>SBIT</code>的特殊权限位。这是一种对文件权限进行设置的特殊功能，可以与一般权限同时使用，以弥补一般权限不能实现的功能。</li></ul> <h4 id="_3-1、suid"><a href="#_3-1、suid" class="header-anchor">#</a> 3.1、SUID</h4> <ul><li><code>SUID</code>是一种对二进制程序进行设置的特殊权限，可以让二进制程序的执行者临时拥有属主的权限（仅对拥有执行权限的二进制程序有效）。</li> <li><code>passwd</code>命令属性所有者的权限由<code>rwx</code>变成了<code>rws</code>。如果原先权限位上没有<code>x</code>执行权限，那么被赋予特殊权限后将变成大写的<code>S</code>。</li></ul> <h4 id="_3-2、sgid"><a href="#_3-2、sgid" class="header-anchor">#</a> 3.2、SGID</h4> <ul><li><p>让执行者临时拥有属组的权限（对拥有执行权限的二进制程序进行设置）；</p></li> <li><p>在某个目录中创建的文件自动继承该目录的用户组（只可以对目录进行设置）。</p></li> <li><p>chmod命令是一个非常实用的命令，能够用来设置文件或目录的权限，格式为“chmod [参数] 权限 文件或目录名称”。</p></li> <li><p>设置文件或目录的所有者和所属组，这里使用的命令为chown，其格式为“chown [参数] 所有者:所属组 文件或目录名称”。</p></li></ul> <h4 id="_3-3、sbit"><a href="#_3-3、sbit" class="header-anchor">#</a> 3.3、SBIT</h4> <ul><li>SBIT特殊权限位可确保用户只能删除自己的文件，而不能删除其他用户的文件。当目录被设置SBIT特殊权限位后，文件的其他人权限部分的x执行权限就会被替换成t或者T，原本有x执行权限则会写成t，原本没有x执行权限则会被写成T。</li></ul> <h3 id="_4、文件的隐藏属性"><a href="#_4、文件的隐藏属性" class="header-anchor">#</a> 4、文件的隐藏属性</h3> <h4 id="_4-1、chattr"><a href="#_4-1、chattr" class="header-anchor">#</a> 4.1、chattr</h4> <ul><li>设置文件的隐藏权限：<code>chattr [参数] 文件</code>。如果想要把某个隐藏功能添加到文件上，则需要在命令后面追加“+参数”，如果想要把某个隐藏功能移出文件，则需要追加“-参数”。</li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>i</code></td> <td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而不能新建或删除文件</td></tr> <tr><td><code>a</code></td> <td>仅允许补充（追加）内容，无法覆盖/删除内容（Append Only）</td></tr> <tr><td><code>S</code></td> <td>文件内容在变更后立即同步到硬盘（sync）</td></tr> <tr><td><code>s</code></td> <td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td></tr> <tr><td><code>A</code></td> <td>不再修改这个文件或目录的最后访问时间（atime）</td></tr> <tr><td><code>b</code></td> <td>不再修改文件或目录的存取时间</td></tr> <tr><td><code>D</code></td> <td>检查压缩文件中的错误</td></tr> <tr><td><code>d</code></td> <td>使用dump命令备份时忽略本文件/目录</td></tr> <tr><td><code>c</code></td> <td>默认将文件或目录进行压缩</td></tr> <tr><td><code>u</code></td> <td>当删除该文件后依然保留其在硬盘中的数据，方便日后恢复</td></tr> <tr><td><code>t</code></td> <td>让文件系统支持尾部合并（tail-merging）</td></tr> <tr><td><code>X</code></td> <td>可以直接访问压缩文件中的内容</td></tr></tbody></table> <h4 id="_4-2、lsattr"><a href="#_4-2、lsattr" class="header-anchor">#</a> 4.2、lsattr</h4> <ul><li>用于显示文件的隐藏权限，格式为<code>lsattr [参数] 文件</code>。</li></ul> <h3 id="_5、文件访问控制列表"><a href="#_5、文件访问控制列表" class="header-anchor">#</a> 5、文件访问控制列表</h3> <ul><li>基于普通文件或目录设置<code>ACL</code>其实就是针对指定的用户或用户组设置文件或目录的操作权限。如果针对某个目录设置了<code>ACL</code>，则目录中的文件会继承其<code>ACL</code>；若针对文件设置了<code>ACL</code>，则文件不再继承其所在目录的<code>ACL</code>。</li></ul> <h4 id="_5-1、setfacl"><a href="#_5-1、setfacl" class="header-anchor">#</a> 5.1、setfacl</h4> <ul><li><p>管理文件的<code>ACL</code>规则，格式为<code>setfacl [参数] 文件名称</code>。</p></li> <li><p>常用的<code>ls</code>命令看不到<code>ACL</code>表信息，但是却可以看到文件的权限最后一个点（<strong>.</strong>）变成了加号（<strong>+</strong>）,这就意味着该文件已经设置了ACL了。</p></li></ul> <h4 id="_5-2、getfacl"><a href="#_5-2、getfacl" class="header-anchor">#</a> 5.2、getfacl</h4> <ul><li>显示文件上设置的<code>ACL</code>信息，格式为<code>getfacl 文件名称</code>。</li></ul> <h3 id="_6、su命令与sudo服务"><a href="#_6、su命令与sudo服务" class="header-anchor">#</a> 6、su命令与sudo服务</h3> <ul><li><p><code>su</code>命令可以使当前用户在不退出登录的情况下，切换到其他用户。<code>su</code>命令与用户名之间添加一个<code>-</code>，完全切换到新的用户，即把环境变量信息也变更为新用户的相应信息，而不是保留原始的信息。</p></li> <li><p>sudo命令用于给普通用户提供额外的权限来完成原本root管理员才能完成的任务，格式为“sudo [参数] 命令名称”。</p></li></ul> <table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td><code>-h</code></td> <td>列出帮助信息</td></tr> <tr><td><code>-l</code></td> <td>列出当前用户可执行的命令</td></tr> <tr><td><code>-u</code>用户名或<code>UID</code>值</td> <td>以指定的用户身份执行命令</td></tr> <tr><td><code>-k</code></td> <td>清空密码的有效时间，下次执行sudo时需要再次进行密码验证</td></tr> <tr><td><code>-b</code></td> <td>在后台执行指定的命令</td></tr> <tr><td><code>-p</code></td> <td>更改询问密码的提示语</td></tr></tbody></table> <ul><li><p>每次执行<code>sudo</code>命令都要输入一次密码，可以添加<code>NOPASSWD</code>参数，使得用户执行<code>sudo</code>命令时不再需要密码验证：</p> <div class="language- extra-class"><pre class="language-text"><code>linuxprobe ALL=NOPASSWD: /usr/sbin/poweroff
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/os/linux/04.html" class="prev">
        04
      </a></span> <span class="next"><a href="/os/linux/06.html">
        06
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.93b6cd49.js" defer></script><script src="/assets/js/2.2253adde.js" defer></script><script src="/assets/js/55.f0d63b85.js" defer></script>
  </body>
</html>
